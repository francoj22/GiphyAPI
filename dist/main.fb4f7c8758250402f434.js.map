{"version":3,"sources":["webpack:///main.fb4f7c8758250402f434.js","webpack:///./public/app/giphyService.js","webpack:///./public/app/mainController.js","webpack:///./public/fonts/glyphicons-halflings-regular.eot","webpack:///./public/index.js"],"names":["webpackJsonp","33","module","exports","Object","defineProperty","value","giphyService","$http","returnVal","searchApi","searchTerm","offset","get","addToFavourites","data","post","then","success","fail","console","log","removeFromFavourites","id","getFavourites","30","__webpack_require__","_interopRequireDefault","obj","__esModule","default","mapResults","results","mappedResults","_lodash2","map","item","thumbnail","images","fixed_width_still","url","fullSize","original","source","source_post_url","main","this","lastCallToApi","getKittens","getPuppies","more","back","displayPopup","selectedItem","favourites","_lodash","3","9","4","p","1","0","_bootstrap","_angular","_angular2","_angularRoute","_angularResource","_mainController","_mainController2","_giphyService","_giphyService2","app","exceptionHandler","$injector","exception","cause","error","stack","factory","controller","config","$routeProvider","when","templateUrl","controllerAs"],"mappings":"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","file":"main.fb4f7c8758250402f434.js","sourcesContent":["webpackJsonp([0],{\n\n/***/ 33:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t/*eslint-disable no-unused-vars */\n\t/*eslint-disable no-console */\n\tvar giphyService = function giphyService($http) {\n\t\n\t    var returnVal = {};\n\t\n\t    returnVal.searchApi = function (searchTerm, offset) {\n\t\n\t        if (!offset) offset = 0;\n\t        return $http.get('http://api.giphy.com/v1/gifs/search?q=' + searchTerm + '&api_key=rii4W38wtdDrpCOwzfsJgMflLpX2goiV&limit=15&offset=' + offset);\n\t    };\n\t\n\t    returnVal.addToFavourites = function (data) {\n\t\n\t        $http.post('/api/favourites', data).then(function (success) {}, function (fail) {\n\t            console.log(fail);\n\t        });\n\t    };\n\t\n\t    returnVal.removeFromFavourites = function (data) {\n\t\n\t        $http.delete('/api/favourites?id=' + data.id).then(function (success) {}, function (fail) {\n\t            console.log(fail);\n\t        });\n\t    };\n\t\n\t    returnVal.getFavourites = function () {\n\t\n\t        return $http.get('/api/favourites');\n\t    };\n\t\n\t    return returnVal;\n\t};\n\t\n\texports.default = giphyService;\n\n/***/ },\n\n/***/ 30:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\texports.default = function (giphyService) {\n\t\n\t    var main = this;\n\t    var lastCallToApi = {};\n\t    main.offset = 0;\n\t    main.results = [];\n\t\n\t    function mapResults(results) {\n\t\n\t        results.then(function (results) {\n\t            var mappedResults = _lodash2.default.map(results.data.data, function (item) {\n\t                return {\n\t                    id: item.id,\n\t                    thumbnail: item.images.fixed_width_still.url,\n\t                    fullSize: item.images.original.url,\n\t                    source: item.source_post_url\n\t                };\n\t            });\n\t            main.results = mappedResults;\n\t        }, function (fail) {\n\t            console.log(fail);\n\t        });\n\t    }\n\t\n\t    main.getKittens = function (offset) {\n\t        var results = giphyService.searchApi('kittens', offset);\n\t        if (lastCallToApi !== main.getKittens) main.offset = 0;\n\t        lastCallToApi = main.getKittens;\n\t        mapResults(results);\n\t    };\n\t\n\t    main.getPuppies = function (offset) {\n\t        var results = giphyService.searchApi('puppies', offset);\n\t        if (lastCallToApi !== main.getPuppies) main.offset = 0;\n\t        lastCallToApi = main.getPuppies;\n\t        mapResults(results);\n\t    };\n\t\n\t    main.more = function () {\n\t        main.offset += 15;\n\t        lastCallToApi(main.offset);\n\t    };\n\t\n\t    main.back = function () {\n\t        main.offset -= 15;\n\t        if (main.offset <= 0) main.offset = 0;\n\t        lastCallToApi(main.offset);\n\t    };\n\t\n\t    main.displayPopup = function (item) {\n\t        main.selectedItem = item;\n\t    };\n\t\n\t    main.addToFavourites = function (item) {\n\t        giphyService.addToFavourites(item);\n\t    };\n\t\n\t    main.removeFromFavourites = function (item) {\n\t        giphyService.removeFromFavourites(item);\n\t    };\n\t\n\t    main.getFavourites = function () {\n\t        var results = giphyService.getFavourites().then(function (results) {\n\t            main.favourites = results.data.favourites;\n\t        }, function (fail) {\n\t            console.log(fail);\n\t        });\n\t    };\n\t\n\t    main.getFavourites();\n\t};\n\t\n\tvar _lodash = __webpack_require__(31);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/***/ },\n\n/***/ 3:\n1,\n\n/***/ 9:\n1,\n\n/***/ 4:\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__.p + \"f4769f9bdb7466be65088239c12046d1.eot\";\n\n/***/ },\n\n/***/ 1:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n\n/***/ 0:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t__webpack_require__(1);\n\t\n\t__webpack_require__(3);\n\t\n\t__webpack_require__(9);\n\t\n\t__webpack_require__(4);\n\t\n\tvar _bootstrap = __webpack_require__(10);\n\t\n\tvar _bootstrap2 = _interopRequireDefault(_bootstrap);\n\t\n\tvar _angular = __webpack_require__(24);\n\t\n\tvar _angular2 = _interopRequireDefault(_angular);\n\t\n\tvar _angularRoute = __webpack_require__(26);\n\t\n\tvar _angularRoute2 = _interopRequireDefault(_angularRoute);\n\t\n\tvar _angularResource = __webpack_require__(28);\n\t\n\tvar _angularResource2 = _interopRequireDefault(_angularResource);\n\t\n\tvar _mainController = __webpack_require__(30);\n\t\n\tvar _mainController2 = _interopRequireDefault(_mainController);\n\t\n\tvar _giphyService = __webpack_require__(33);\n\t\n\tvar _giphyService2 = _interopRequireDefault(_giphyService);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/*eslint-disable no-console */\n\t/*eslint-disable no-unused-vars */\n\tvar app = _angular2.default.module(\"giphyApp\", [\"ngRoute\", \"ngResource\"]);\n\t\n\tvar exceptionHandler = function exceptionHandler($injector) {\n\t    return function (exception, cause) {\n\t        console.error(exception, cause, exception.stack);\n\t    };\n\t};\n\t\n\tapp.factory(\"giphyService\", [\"$http\", _giphyService2.default]);\n\tapp.controller(\"mainController\", [\"giphyService\", _mainController2.default]);\n\t\n\tapp.config([\"$routeProvider\", function ($routeProvider) {\n\t\n\t    $routeProvider.when(\"/favourites\", {\n\t        templateUrl: 'templates/favourites.html',\n\t        controller: \"mainController\",\n\t        controllerAs: \"main\"\n\t    }).when(\"/\", {\n\t        templateUrl: 'templates/mainPanel.html',\n\t        controller: \"mainController\",\n\t        controllerAs: \"main\"\n\t    });\n\t}]);\n\t\n\tapp.factory(\"$exceptionHandler\", [\"$injector\", exceptionHandler]);\n\n/***/ }\n\n});\n\n\n/** WEBPACK FOOTER **\n ** main.fb4f7c8758250402f434.js\n **/","/*eslint-disable no-unused-vars */\n/*eslint-disable no-console */\nconst giphyService = function($http) {\n\n    let returnVal = {};\n\n    returnVal.searchApi = function(searchTerm, offset) {\n\n        if (!offset) offset = 0;\n        return $http.get(`http://api.giphy.com/v1/gifs/search?q=${searchTerm}&api_key=rii4W38wtdDrpCOwzfsJgMflLpX2goiV&limit=15&offset=${offset}`);\n\n    };\n\n    returnVal.addToFavourites = function(data) {\n\n        $http.post('/api/favourites', data).then(\n            function(success) {},\n            function(fail) {\n                console.log(fail);\n            });\n    };\n\n    returnVal.removeFromFavourites = function(data) {\n\n        $http.delete(`/api/favourites?id=${data.id}`).then(\n            function(success) {},\n            function(fail) {\n                console.log(fail);\n            });\n    };\n\n\n\n\n    returnVal.getFavourites = function() {\n\n        return $http.get('/api/favourites');\n    };\n\n    return returnVal;\n};\n\nexport default giphyService;\n\n\n\n/** WEBPACK FOOTER **\n ** ./public/app/giphyService.js\n **/","/*eslint-disable no-unused-vars */\n/*eslint-disable no-console */\n\nimport _ from 'lodash';\n\nexport default function(giphyService) {\n\n    const main = this;\n    let lastCallToApi = {};\n    main.offset = 0;\n    main.results = [];\n\n    function mapResults(results) {\n\n        results.then(\n            function(results) {\n                let mappedResults = _.map(results.data.data, item => {\n                    return {\n                        id: item.id,\n                        thumbnail: item.images.fixed_width_still.url,\n                        fullSize: item.images.original.url,\n                        source: item.source_post_url\n                    }\n                });\n                main.results = mappedResults;\n            },\n            function(fail) {\n                console.log(fail);\n            });\n    }\n\n    main.getKittens = function(offset) {\n        let results = giphyService.searchApi('kittens', offset);\n        if (lastCallToApi !== main.getKittens) main.offset = 0\n        lastCallToApi = main.getKittens;\n        mapResults(results);\n    }\n\n    main.getPuppies = function(offset) {\n        let results = giphyService.searchApi('puppies', offset);\n        if (lastCallToApi !== main.getPuppies) main.offset = 0\n        lastCallToApi = main.getPuppies;\n        mapResults(results);\n    }\n\n    main.more = function() {\n        main.offset += 15;\n        lastCallToApi(main.offset);\n    }\n\n    main.back = function() {\n        main.offset -= 15;\n        if (main.offset <= 0) main.offset = 0;\n        lastCallToApi(main.offset);\n    }\n\n    main.displayPopup = function(item) {\n        main.selectedItem = item;\n    }\n\n    main.addToFavourites = function(item) {\n        giphyService.addToFavourites(item);\n    }\n\n    main.removeFromFavourites = function(item) {\n        giphyService.removeFromFavourites(item);\n    }\n\n    main.getFavourites = function() {\n        let results = giphyService.getFavourites().then(\n            function(results) {\n                main.favourites = results.data.favourites;\n            },\n            function(fail) {\n                console.log(fail);\n            });\n    }\n\n    main.getFavourites();\n}\n\n\n/** WEBPACK FOOTER **\n ** ./public/app/mainController.js\n **/","module.exports = __webpack_public_path__ + \"f4769f9bdb7466be65088239c12046d1.eot\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./public/fonts/glyphicons-halflings-regular.eot\n ** module id = 4\n ** module chunks = 0\n **/","/*eslint-disable no-console */\n/*eslint-disable no-unused-vars */\nimport './index.css';\nimport './css/bootstrap.css'\nimport './css/thumbnail-gallery.css'\nimport './fonts/glyphicons-halflings-regular.eot'\n\nimport bootstrap from 'bootstrap';\nimport angular from 'angular';\n\nimport ngRoute from 'angular-route';\nimport ngResource from 'angular-resource';\nimport mainController from './app/mainController';\nimport giphyService from './app/giphyService';\n\nlet app = angular.module(\"giphyApp\", [\"ngRoute\", \"ngResource\"]);\n\nlet exceptionHandler = function($injector) {\n    return function(exception, cause) {\n        console.error(exception, cause, exception.stack);\n    };\n};\n\napp.factory(\"giphyService\", [\"$http\", giphyService]);\napp.controller(\"mainController\", [\"giphyService\", mainController]);\n\napp.config([\"$routeProvider\", function($routeProvider) {\n\n    $routeProvider\n        .when(\"/favourites\", {\n            templateUrl: 'templates/favourites.html',\n            controller: \"mainController\",\n            controllerAs: \"main\"\n        })\n        .when(\"/\", {\n            templateUrl: 'templates/mainPanel.html',\n            controller: \"mainController\",\n            controllerAs: \"main\"\n        });\n}]);\n\napp.factory(\"$exceptionHandler\", [\"$injector\", exceptionHandler]);\n\n\n/** WEBPACK FOOTER **\n ** ./public/index.js\n **/"],"sourceRoot":""}